# 规格性能 {#concept_gph_q34_tdb .concept}

云数据库Redis版的规格根据具体版本有所区别，本文介绍各版本的规格参数及QPS（Query Per Second）的测试方法。

**说明：** 

带宽上限分别应用于上行带宽和下行带宽。在网络带宽资源充足的情况下，云数据库Redis版没有带宽限制；当资源不足时，实例的带宽上限开始生效。

## 规格能力 {#section_hh2_5p4_tdb .section}

**标准版-双副本**

**标准套餐**

|规格|连接数上限（个）|内网带宽上限（MByte）|CPU 处理能力|QPS参考值|说明|
|--|--------|-------------|--------|------|--|
|256 MB 主从版|10000|10|单核|80000|主-从双节点实例|
|1 GB 主从版|10000|10|单核|80000|主-从双节点实例|
|2 GB 主从版|10000|16|单核|80000|主-从双节点实例|
|4 GB 主从版|10000|24|单核|80000|主-从双节点实例|
|8 GB 主从版|10000|24|单核|80000|主-从双节点实例|
|16 GB 主从版|10000|32|单核|80000|主-从双节点实例|
|32 GB 主从版|10000|32|单核|80000|主-从双节点实例|
|64 GB 主从版|10000|48|单核|80000|主-从双节点实例|

**定制套餐**

|规格|连接数上限（个）|内网带宽上限（MByte）|CPU 处理能力|QPS参考值|说明|
|--|--------|-------------|--------|------|--|
|1 GB 主从高配版|20000|48|单核|80000|主-从双节点实例|
|2 GB 主从高配版|20000|48|单核|80000|主-从双节点实例|
|4 GB 主从高配版|20000|48|单核|80000|主-从双节点实例|
|8 GB 主从高配版|20000|48|单核|80000|主-从双节点实例|
|16 GB 主从高配版|20000|48|单核|80000|主-从双节点实例|
|32 GB 主从高配版|20000|48|单核|80000|主-从双节点实例|
|64 GB 主从高配版|20000|96|单核|80000|主-从双节点实例|

**标准版-单副本**

**标准套餐**

|规格|连接数上限（个）|内网带宽上限（MByte）|CPU 处理能力|QPS参考值|说明|
|--|--------|-------------|--------|------|--|
|1 GB 单机版|10000|10|单核|80000|单节点实例|
|2 GB 单机版|10000|16|单核|80000|单节点实例|
|4 GB 单机版|10000|24|单核|80000|单节点实例|
|8 GB 单机版|10000|24|单核|80000|单节点实例|
|16 GB 单机版|10000|32|单核|80000|单节点实例|
|32 GB 单机版|10000|32|单核|80000|单节点实例|

**定制套餐**

|规格|连接数上限（个）|内网带宽上限（MByte）|CPU 处理能力|QPS参考值|说明|
|--|--------|-------------|--------|------|--|
|1 GB 单机高配版|20000|48|单核|80000|单节点实例|
|2 GB 单机高配版|20000|48|单核|80000|单节点实例|
|4 GB 单机高配版|20000|48|单核|80000|单节点实例|
|8 GB 单机高配版|20000|48|单核|80000|单节点实例|
|16 GB 单机高配版|20000|48|单核|80000|单节点实例|
|32 GB 单机高配版|20000|48|单核|80000|单节点实例|

**集群版-双副本**

|规格|节点数（个）|连接数上限（个）|内网带宽上限（MByte）|CPU 处理能力|QPS参考值|说明|
|--|------|--------|-------------|--------|------|--|
|4 GB 集群版|2|20000|96|2核|160000|高性能集群实例|
|8 GB 集群版|2|20000|96|2核|160000|高性能集群实例|
|16 GB 集群版|8|80000|384|8核|640000|高性能集群实例|
|32 GB 集群版|8|80000|384|8核|640000|高性能集群实例|
|64 GB 集群版|8|80000|384|8核|640000|高性能集群实例|
|128 GB 集群版|16|160000|768|16核|1280000|高性能集群实例|
|256 GB 集群版|16|160000|768|16核|1280000|高性能集群实例|
|512 GB 集群版|32|320000|1536|32核|2560000|高性能集群实例|
|1 TB 集群版|64|640000|2150|64核|5120000|高性能集群实例|
|2 TB 集群版|128|1280000|4300|128核|10240000|高性能集群实例|

**说明：** 集群版-双副本规格中的节点数为主节点数量。

**集群版-单副本**

|规格（GB）|节点数（个）|连接数上限（个）|内网带宽上限（MByte）|CPU 处理能力|QPS参考值|说明|
|------|------|--------|-------------|--------|------|--|
|4 GB 集群版|2|20000|96|2核|160000|高性能集群实例|
|8 GB 集群版|2|20000|96|2核|160000|高性能集群实例|
|16 GB 集群版|8|80000|384|8核|640000|高性能集群实例|
|32 GB 集群版|8|80000|384|8核|640000|高性能集群实例|
|64 GB 集群版|8|80000|384|8核|640000|高性能集群实例|
|128 GB 集群版|16|160000|768|16核|1280000|高性能集群实例|
|256 GB 集群版|16|160000|768|16核|1280000|高性能集群实例|
|512 GB 集群版|32|320000|1536|32核|2560000|高性能集群实例|

**读写分离版**

|规格（GB）|只读节点数（个）|内网带宽上限（MByte）|连接数上限（个）|QPS参考值|
|------|--------|-------------|--------|------|
|1 GB 读写分离版|1|20|20000|20万|
|1 GB 读写分离版|3|40|40000|40万|
|1 GB 读写分离版|5|60|60000|60万|
|2 GB 读写分离版|1|32|20000|20万|
|2 GB 读写分离版|3|64|40000|40万|
|2 GB 读写分离版|5|96|60000|60万|
|4 GB 读写分离版|1|48|20000|20万|
|4 GB 读写分离版|3|96|40000|40万|
|4 GB 读写分离版|5|144|60000|60万|
|8 GB 读写分离版|1|48|20000|20万|
|8 GB 读写分离版|3|96|40000|40万|
|8 GB 读写分离版|5|144|60000|60万|
|16 GB 读写分离版|1|64|20000|20万|
|16 GB 读写分离版|3|128|40000|40万|
|16 GB 读写分离版|5|192|60000|60万|
|32 GB 读写分离版|1|64|20000|20万|
|32 GB 读写分离版|3|128|40000|40万|
|32 GB 读写分离版|5|192|60000|60万|
|64 GB 读写分离版|1|64|20000|20万|
|64 GB 读写分离版|3|128|40000|40万|
|64 GB 读写分离版|5|192|60000|60万|

**集群版读写分离**

|规格（GB）|节点数（个）|只读节点个数|内网带宽上限（MByte）|连接数上限（个）|QPS参考值|
|------|------|------|-------------|--------|------|
|4GB 集群版读写分离|2|1|96|30000|30万|
|8GB 集群版读写分离|2|1|96|30000|30万|
|16GB 集群版读写分离|2|1|96|30000|30万|
|32GB 集群版读写分离|8|1|384|90000|90万|
|64GB 集群版读写分离|16|1|768|170000|170万|
|128GB 集群版读写分离|16|1|768|170000|170万|
|256GB 集群版读写分离|32|1|1536|330000|330万|
|512GB 集群版读写分离|32|1|1536|330000|330万|

## QPS 能力参考 {#section_bhd_cp4_tdb .section}

**QPS 能力**

|规格（GB）|连接数上限（个）|内网带宽上限（MByte）|CPU 处理能力|QPS 参考值|
|------|--------|-------------|--------|-------|
|8|10000|24|单核|80000|

**说明：** 

非集群版实例的 QPS 能力参考范围为8-10万， 集群实例的 QPS 参考值为节点数目乘以8-10万。

## QPS测试方法 {#section_hty_fq4_tdb .section}

 ![](images/6123_zh-CN.png "网络拓扑图") 

**云主机规格**

|操作系统|CPU \(个数\)|内存|区域|个数|
|----|----------|--|--|--|
|Ubuntu 14.04 64位|1|2048 MB|华南1|3|

**操作步骤**

1.  在3台 ECS 上下载 redis-2.8.19 源码包。

    ```
     $ wget http://download.redis.io/releases/redis-2.8.19.tar.gz
     $ tar xzf redis-2.8.19.tar.gz
     $ cd redis-2.8.19
     $ make
     $ make install
    ```

2.  在3台 ECS 上同时执行以下命令。

    ```
     redis-benchmark -h ***********.m.cnsza.kvstore.aliyuncs.com -p 6379 -a password -t set -c 50 -d 128 -n 25000000 -r 5000000
    ```

3.  汇总3台 ECS 上的测试数据，QPS 为3台 ECS 总和。


